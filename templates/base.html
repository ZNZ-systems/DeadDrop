{{define "base"}}<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{block "title" .}}DeadDrop{{end}}</title>
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cpolygon points='50,10 90,50 50,90 10,50' fill='%23ff0000'/%3E%3C/svg%3E">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/htmx.org@2.0.4"></script>
    <style>
        :root {
            --bg: #f5f0e8;
            --black: #0a0a0a;
            --red: #ff2200;
            --white: #f5f0e8;
            --gray: #888;
            --green: #22c55e;
            --yellow: #eab308;
            --border-thick: 4px solid var(--black);
            --border-thin: 1px solid var(--black);
            --font-head: 'Space Grotesk', system-ui, sans-serif;
            --font-mono: 'Space Mono', monospace;
        }

        *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
        html { scroll-behavior: smooth; }

        body {
            font-family: var(--font-mono);
            font-size: 13px;
            line-height: 1.6;
            color: var(--black);
            background: var(--bg);
            overflow-x: hidden;
        }

        ::selection { background: var(--red); color: var(--white); }

        a { color: var(--black); }
        a:hover { color: var(--red); }
        a:focus-visible,
        button:focus-visible,
        input:focus-visible,
        select:focus-visible,
        textarea:focus-visible {
            outline: 3px solid var(--red);
            outline-offset: 2px;
        }

        .skip-link {
            position: absolute;
            left: 1rem;
            top: -3rem;
            z-index: 200;
            background: var(--black);
            color: var(--white);
            padding: 0.5rem 0.75rem;
            text-decoration: none;
            border: 2px solid var(--red);
        }
        .skip-link:focus-visible {
            top: 0.5rem;
        }

        /* Nav */
        nav {
            position: fixed; top: 0; left: 0; right: 0; z-index: 100;
            padding: 1rem 2rem;
            display: flex; align-items: center; justify-content: space-between;
            background: var(--bg);
            border-bottom: var(--border-thick);
        }
        .nav-auth {
            display: grid;
            grid-template-columns: auto 1fr auto;
            gap: 1rem;
        }

        .logo {
            font-family: var(--font-head); font-size: 18px; font-weight: 700;
            text-decoration: none; color: var(--black);
            text-transform: uppercase; letter-spacing: -0.02em;
        }
        .logo span { color: var(--red); }

        .nav-primary {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        .nav-tab {
            font-family: var(--font-mono);
            font-size: 10px;
            font-weight: 700;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            text-decoration: none;
            border: 2px solid var(--black);
            color: var(--black);
            padding: 8px 14px;
            transition: color 0.15s ease, background 0.15s ease, border-color 0.15s ease;
        }
        .nav-tab:hover {
            color: var(--white);
            background: var(--black);
        }
        .nav-tab-active {
            background: var(--red);
            border-color: var(--red);
            color: var(--white);
        }
        .nav-tab-active:hover {
            background: var(--black);
            border-color: var(--black);
        }

        .nav-right {
            display: flex; align-items: center; gap: 1.5rem;
        }

        .nav-email {
            font-size: 11px; color: var(--gray);
            letter-spacing: 0.05em;
        }

        .nav-link {
            font-family: var(--font-mono); font-size: 11px; font-weight: 700;
            text-decoration: none; color: var(--black);
            text-transform: uppercase; letter-spacing: 0.1em;
            transition: color 0.15s ease;
        }
        .nav-link:hover { color: var(--red); }

        .nav-cta {
            font-family: var(--font-mono); font-size: 11px; font-weight: 700;
            padding: 10px 24px; background: var(--black); color: var(--white);
            border: none; text-decoration: none; text-transform: uppercase;
            letter-spacing: 0.1em; cursor: pointer;
            transition: background 0.15s ease, color 0.15s ease;
        }
        .nav-cta:hover { background: var(--red); color: var(--white); }

        .nav-btn-danger {
            font-family: var(--font-mono); font-size: 11px; font-weight: 700;
            padding: 10px 24px; background: transparent; color: var(--red);
            border: 2px solid var(--red); text-decoration: none; text-transform: uppercase;
            letter-spacing: 0.1em; cursor: pointer;
            transition: background 0.15s ease, color 0.15s ease;
        }
        .nav-btn-danger:hover { background: var(--red); color: var(--white); }

        /* Main content area */
        main {
            max-width: 900px;
            margin: 0 auto;
            padding: 7rem 2rem 4rem;
        }
        nav.nav-auth + main {
            padding-top: 7.5rem;
        }

        /* Page header */
        .page-header {
            display: flex; align-items: center; justify-content: space-between;
            margin-bottom: 2rem; padding-bottom: 1.5rem;
            border-bottom: var(--border-thick);
        }

        .page-title {
            font-family: var(--font-head); font-size: clamp(1.8rem, 4vw, 2.5rem);
            font-weight: 700; letter-spacing: -0.03em; line-height: 1.1;
        }

        .page-tag {
            font-size: 11px; font-weight: 700; letter-spacing: 0.15em;
            text-transform: uppercase; color: var(--red);
            border: 2px solid var(--red); padding: 6px 16px;
            display: inline-block; margin-bottom: 1.5rem;
        }

        /* Section dividers */
        .section-divider {
            border-top: var(--border-thick); border-bottom: var(--border-thick);
            padding: 0.75rem 0; font-size: 11px; font-weight: 700;
            letter-spacing: 0.2em; text-transform: uppercase;
            display: flex; justify-content: space-between; align-items: center;
            margin-top: 3rem; margin-bottom: 0;
        }
        .section-divider .num { color: var(--red); }

        /* Buttons */
        .btn-primary {
            display: inline-block; font-family: var(--font-mono);
            font-size: 11px; font-weight: 700;
            padding: 14px 28px; background: var(--black); color: var(--white);
            border: none; text-decoration: none; text-transform: uppercase;
            letter-spacing: 0.12em; cursor: pointer;
            transition: background 0.15s ease;
        }
        .btn-primary:hover { background: var(--red); color: var(--white); }

        .btn-red {
            display: inline-block; font-family: var(--font-mono);
            font-size: 11px; font-weight: 700;
            padding: 14px 28px; background: var(--red); color: var(--white);
            border: none; text-decoration: none; text-transform: uppercase;
            letter-spacing: 0.12em; cursor: pointer;
            transition: background 0.15s ease;
        }
        .btn-red:hover { background: var(--black); color: var(--white); }

        .btn-outline {
            display: inline-block; font-family: var(--font-mono);
            font-size: 11px; font-weight: 700;
            padding: 12px 24px; background: transparent; color: var(--black);
            border: 2px solid var(--black); text-decoration: none; text-transform: uppercase;
            letter-spacing: 0.12em; cursor: pointer;
            transition: all 0.15s ease;
        }
        .btn-outline:hover { background: var(--black); color: var(--white); }

        .btn-outline-red {
            display: inline-block; font-family: var(--font-mono);
            font-size: 11px; font-weight: 700;
            padding: 12px 24px; background: transparent; color: var(--red);
            border: 2px solid var(--red); text-decoration: none; text-transform: uppercase;
            letter-spacing: 0.12em; cursor: pointer;
            transition: all 0.15s ease;
        }
        .btn-outline-red:hover { background: var(--red); color: var(--white); }

        .btn-sm {
            padding: 8px 16px; font-size: 10px;
        }

        /* Forms */
        .form-group { margin-bottom: 1.5rem; }

        .form-label {
            display: block; font-size: 11px; font-weight: 700;
            text-transform: uppercase; letter-spacing: 0.15em;
            margin-bottom: 0.5rem; color: var(--black);
        }

        .form-hint {
            font-size: 11px; color: var(--gray); margin-top: 0.4rem;
            letter-spacing: 0.02em;
        }

        .form-input {
            width: 100%; padding: 14px 16px;
            background: var(--white); border: var(--border-thick);
            font-family: var(--font-mono); font-size: 13px;
            color: var(--black); outline: none;
            transition: border-color 0.15s ease;
        }
        .form-input::placeholder { color: var(--gray); }
        .form-input:focus { border-color: var(--red); }

        .form-card {
            max-width: 480px; margin: 0 auto;
        }

        /* Flash messages */
        .flash {
            padding: 1rem 1.5rem; margin-bottom: 2rem;
            font-size: 12px; font-weight: 700;
            letter-spacing: 0.05em; text-transform: uppercase;
            border: var(--border-thick);
        }
        .flash-error {
            background: var(--red); color: var(--white);
            border-color: var(--red);
        }
        .flash-success {
            background: var(--black); color: var(--white);
            border-color: var(--black);
        }

        /* Cards / List items */
        .list-card {
            border: var(--border-thick);
        }

        .list-item {
            padding: 1.25rem 1.5rem;
            border-bottom: var(--border-thick);
            display: flex; align-items: center; justify-content: space-between;
            text-decoration: none; color: var(--black);
            transition: background 0.15s ease;
        }
        .list-item:last-child { border-bottom: none; }
        .list-item:hover { background: var(--black); color: var(--white); }
        .list-item:hover .list-item-sub { color: rgba(255,255,255,0.5); }
        .list-item:hover .badge { background: var(--red); color: var(--white); border-color: var(--red); }
        .list-item:hover .badge-warn { background: var(--yellow); color: var(--black); border-color: var(--yellow); }

        .list-item-name {
            font-family: var(--font-head); font-size: 16px;
            font-weight: 700; letter-spacing: -0.02em;
        }

        .list-item-sub {
            font-size: 11px; color: var(--gray);
            letter-spacing: 0.05em; transition: color 0.15s ease;
        }

        /* Badges */
        .badge {
            display: inline-block; font-size: 10px; font-weight: 700;
            letter-spacing: 0.15em; text-transform: uppercase;
            padding: 4px 12px; border: 2px solid var(--green);
            color: var(--green); transition: all 0.15s ease;
        }

        .badge-warn {
            border-color: var(--yellow); color: var(--yellow);
        }

        .badge-red {
            border-color: var(--red); color: var(--red);
        }

        .badge-count {
            display: inline-block; font-size: 10px; font-weight: 700;
            letter-spacing: 0.15em; text-transform: uppercase;
            padding: 4px 12px; border: 2px solid var(--red);
            color: var(--red); transition: all 0.15s ease;
        }

        /* Info panels */
        .info-panel {
            border: var(--border-thick); padding: 2rem;
            margin-bottom: 2rem;
        }

        .info-panel-warn {
            border-color: var(--yellow);
        }

        .info-panel-success {
            border-color: var(--green);
        }

        .info-panel-title {
            font-family: var(--font-head); font-size: 16px;
            font-weight: 700; margin-bottom: 0.75rem;
        }

        .info-panel-text {
            font-size: 12px; color: var(--gray); line-height: 1.8;
            margin-bottom: 1rem;
        }

        /* Code blocks */
        .code-block {
            background: var(--black); color: #aaa;
            padding: 1rem 1.25rem; font-family: var(--font-mono);
            font-size: 12px; line-height: 1.8;
            border: var(--border-thick);
            word-break: break-all;
        }
        .code-block .hl { color: var(--red); }
        .code-block .val { color: #ffd700; }

        /* Messages */
        .message-item {
            padding: 1.25rem 1.5rem;
            border-bottom: var(--border-thick);
        }
        .message-item:last-child { border-bottom: none; }

        .message-unread {
            border-left: 4px solid var(--red);
        }

        .message-meta {
            display: flex; align-items: center; gap: 0.75rem;
            margin-bottom: 0.5rem; flex-wrap: wrap;
        }

        .message-sender {
            font-weight: 700; font-size: 13px;
        }

        .message-email {
            font-size: 11px; color: var(--gray);
        }

        .message-unread-dot {
            display: inline-block; width: 8px; height: 8px;
            background: var(--red);
        }

        .message-body {
            font-size: 12px; color: var(--gray); line-height: 1.8;
            white-space: pre-wrap; margin-bottom: 0.5rem;
        }

        .message-time {
            font-size: 10px; color: var(--gray); letter-spacing: 0.1em;
            text-transform: uppercase;
        }

        .message-actions {
            display: flex; gap: 1rem; margin-top: 0.75rem;
        }

        .message-action {
            font-family: var(--font-mono); font-size: 10px;
            font-weight: 700; letter-spacing: 0.1em;
            text-transform: uppercase; background: none;
            border: none; cursor: pointer; padding: 0;
            transition: color 0.15s ease;
        }
        .message-action-read { color: var(--black); }
        .message-action-read:hover { color: var(--red); }
        .message-action-delete { color: var(--red); }
        .message-action-delete:hover { color: var(--black); }

        /* Empty state */
        .empty-state {
            text-align: center; padding: 4rem 2rem;
            border: var(--border-thick);
        }

        .empty-state p {
            font-size: 12px; color: var(--gray);
            margin-bottom: 1.5rem; letter-spacing: 0.05em;
        }

        /* Back link */
        .back-link {
            display: inline-block; margin-top: 2rem;
            font-size: 11px; font-weight: 700;
            text-transform: uppercase; letter-spacing: 0.1em;
            color: var(--gray); text-decoration: none;
            transition: color 0.15s ease;
        }
        .back-link:hover { color: var(--red); }
        .back-link::before { content: '\2190\00a0'; }

        /* Form link */
        .form-footer {
            text-align: center; margin-top: 2rem;
            font-size: 12px; color: var(--gray);
        }
        .form-footer a {
            color: var(--red); text-decoration: none;
            font-weight: 700; text-transform: uppercase;
            letter-spacing: 0.1em; font-size: 11px;
        }
        .form-footer a:hover { color: var(--black); }

        /* Footer */
        footer {
            padding: 2rem; border-top: var(--border-thick);
            display: flex; align-items: center; justify-content: space-between;
            font-size: 11px; color: var(--gray); background: var(--bg);
            margin-top: 4rem;
        }
        footer a { color: var(--black); text-decoration: none; font-weight: 700; }
        footer a:hover { color: var(--red); }
        .footer-links { display: flex; gap: 2rem; }

        /* Utility */
        .flex-between {
            display: flex; align-items: center; justify-content: space-between;
        }
        .gap-1 { gap: 1rem; }
        .mt-1 { margin-top: 1rem; }
        .mt-2 { margin-top: 2rem; }
        .mb-1 { margin-bottom: 1rem; }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(8px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-in { animation: fadeIn 0.4s ease; }

        /* Responsive */
        @media (max-width: 768px) {
            nav { padding: 1rem; }
            .nav-auth {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }
            .nav-primary {
                justify-content: flex-start;
                flex-wrap: wrap;
            }
            .nav-right {
                justify-content: space-between;
                width: 100%;
            }
            .nav-email {
                overflow-wrap: anywhere;
            }
            main { padding: 6rem 1.25rem 3rem; }
            nav.nav-auth + main { padding-top: 9.5rem; }
            .page-header { flex-direction: column; align-items: flex-start; gap: 1rem; }
            .list-item { flex-direction: column; align-items: flex-start; gap: 0.75rem; }
            footer { flex-direction: column; gap: 1rem; text-align: center; }
        }
    </style>
</head>
<body hx-headers='{"X-CSRF-Token": "{{.CSRFToken}}"}'>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    {{template "nav" .}}
    <main id="main-content">
        {{template "flash" .}}
        {{block "content" .}}{{end}}
    </main>
    <footer>
        <span>DEADDROP &copy; 2026</span>
        <div class="footer-links">
            <a href="https://github.com" target="_blank" rel="noopener">GitHub</a>
            <a href="#">Docs</a>
        </div>
    </footer>
</body>
</html>{{end}}
